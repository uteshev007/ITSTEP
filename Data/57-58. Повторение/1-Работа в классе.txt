#include <iostream>
#include <iomanip>
#include <time.h>
using namespace std;
// #define RAND()

/*
2. **ѕользователь вводит строку, необходимо создать
новую строку, в которую скопировать символы первой
строки добавив символ пробела между каждым символом
первой строки.
Ќапример, вводим "this", в новой строке - "t h i s".
*/
int main()
{
  system("chcp 1251 > nul");
  srand(time(0));
  // 1) создание динамической строки
  char* str1 = new char[1000];
  cout << "¬ведите строку: ";
  cin.getline(str1, 1000);
  cout << "str1: " << str1 << endl;
  // 2) определение длины введенной строки
  int len = strlen(str1);
  // 3) создание нового массива дл€ новой строки str2
  char* str2 = new char[len*2+1]; // +1 дл€ '\0'
  // 4) копирование строк
  //for(int i = 0; str1[i] != '\0'; i++) {
  for (int i = 0; i < len; i++) {
    // "this" ==> (len=4)
    //  012345678
    // "t h i s "
    str2[i * 2] = str1[i];
    str2[i * 2 + 1] = ' ';
  }
  str2[len*2] = '\0';
  cout << "str2: " << str2 << endl;
  // 5) копирование строк с помощью указателей
  char *p1 = str1, *p2 = str2;
  while (*p1 != '\0') {
    //*p2 = *p1; // str2[i*2] = str1[i]
    //p2++;
    //*p2 = ' '; // str2[i*2+1] = ' ';
    //p2++;
    //p1++;      // i++
    // сокращенный вариант
    *p2++ = *p1++;
    *p2++ = '_';
  }
  *p2 = '\0'; // завершаем вторую строку
  cout << "str2: " << str2 << endl;
  // удаление массива str1
  delete[] str1;
  // удаление массива str2
  delete[] str2;

  cin.get(); cin.get();
}
